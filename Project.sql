CREATE DATABASE THEMEPARK_TW

CREATE TABLE THEMEPARK (
THE_ID   CHAR(3) NOT NULL,
THE_NAME   VARCHAR(50) NOT NULL,
THE_TEL   CHAR(30) NOT NULL,
THE_ADDRESS  VARCHAR(50) NOT NULL,
THE_OPENHOUR CHAR(15) NOT NULL,
THE_DATE   DATETIME ,
PRIMARY KEY (THE_ID));

CREATE TABLE ACTIVITY (
THE_ID 		CHAR(3) NOT NULL,
ACT_NUM		INTEGER NOT NULL,
ACT_NAME 	VARCHAR(50) NOT NULL,
ACT_DATE    DATETIME ,
PRIMARY KEY (THE_ID,ACT_NUM),
FOREIGN KEY(THE_ID) REFERENCES THEMEPARK ON UPDATE CASCADE ON DELETE CASCADE);

CREATE TABLE THESERVICE (
SER_ID   INTEGER NOT NULL,
SER_NAME   VARCHAR(10) NOT NULL,
PRIMARY KEY (SER_ID));

CREATE TABLE SERCONTENT (
THE_ID   CHAR(3) NOT NULL,
SER_ID   INTEGER NOT NULL,
PRIMARY KEY (THE_ID, SER_ID),
FOREIGN KEY(THE_ID) REFERENCES THEMEPARK ON UPDATE CASCADE ON DELETE CASCADE,
FOREIGN KEY(SER_ID) REFERENCES THESERVICE ON UPDATE CASCADE ON DELETE CASCADE);

CREATE TABLE RIDECATEGORY (
RC_ID  CHAR(4) NOT NULL,
RC_NAME  VARCHAR(10) NOT NULL,
PRIMARY KEY (RC_ID));

CREATE TABLE RIDE (
THE_ID 		CHAR(3) NOT NULL,
RC_ID 		CHAR(4) NOT NULL,
RIDE_NAME 	VARCHAR(20) NOT NULL,
PRIMARY KEY (THE_ID,RC_ID),
FOREIGN KEY(THE_ID) REFERENCES THEMEPARK ON UPDATE CASCADE ON DELETE CASCADE,
FOREIGN KEY(RC_ID) REFERENCES RIDECATEGORY ON UPDATE CASCADE ON DELETE CASCADE);

CREATE TABLE PRICECATEGORY (
PC_ID 		VARCHAR(3) NOT NULL,
PC_NAME 	VARCHAR(15) NOT NULL,
PRIMARY KEY (PC_ID));

CREATE TABLE PRICE (
THE_ID 		CHAR(3) NOT NULL,
PC_ID 		VARCHAR(3) NOT NULL,
PR_VALUE 	INTEGER NOT NULL,
PRIMARY KEY (THE_ID,PC_ID),
FOREIGN KEY(THE_ID) REFERENCES THEMEPARK ON UPDATE CASCADE ON DELETE CASCADE,
FOREIGN KEY(PC_ID) REFERENCES PRICECATEGORY ON UPDATE CASCADE ON DELETE CASCADE);

CREATE TABLE CUSTOMER(
CUS_ID  INTEGER  NOT NULL,
THE_ID   CHAR(3) NOT NULL,
PC_ID   VARCHAR(3) NOT NULL,
CUS_COUNT INTEGER    NOT NULL
PRIMARY KEY (CUS_ID,PC_ID,THE_ID),
FOREIGN KEY(PC_ID) REFERENCES PRICECATEGORY ON UPDATE CASCADE ON DELETE CASCADE,
FOREIGN KEY(THE_ID) REFERENCES THEMEPARK ON UPDATE CASCADE ON DELETE CASCADE);

/*中部*/
INSERT INTO THEMEPARK VALUES('C01','東勢林場遊樂區','04-25872191','台中市東勢區勢林街6-1號','06:30~22:00',NULL);
INSERT INTO THEMEPARK VALUES('C02','泰雅渡假村','049-2461311','南投縣國姓鄉北港村北原路56-2號','09:00~17:00',NULL);
INSERT INTO THEMEPARK VALUES('C03','香格里拉樂園','037-561369','苗栗縣造橋鄉豐湖村1鄰乳姑山15-3號','09:00~17:00','2014-01-01');
INSERT INTO THEMEPARK VALUES('C04','火炎山遊樂區','037-740373','苗栗縣苑裡鎮石鎮里錦山8鄰1號','08:30-17:00',NULL);
INSERT INTO THEMEPARK VALUES('C05','麗寶樂園','04-25582459','台中市后里區福容路8號','09:30~20:00','1998-07-31');
INSERT INTO THEMEPARK VALUES('C06','九族文化村','049-2895361','南投縣魚池鄉大林村金天巷45號','9:00~17:30','1986-07-27');
INSERT INTO THEMEPARK VALUES('C07','西湖渡假村','037-876699','苗栗縣三義鄉西湖村西湖11號','09:00~17:00','1989-01-01');
INSERT INTO THEMEPARK VALUES('C08','杉林溪森林生態渡假園區','049-2611211','南投縣竹山鎮大鞍里溪山路6號','00:00-24:00','1979-01-01');
INSERT INTO THEMEPARK VALUES('C09','劍湖山世界','05-5825789','雲林縣古坑鄉永光村大湖口67號','09:00~17:00','1990-08-01');

/*南部*/
INSERT INTO THEMEPARK VALUES('S01','8大森林樂園','08-7898822','屏東縣潮州鎮潮州路800號','08:30~17:00',NULL);
INSERT INTO THEMEPARK VALUES('S02','大路觀主題樂園','08-795-8811','屏東縣高樹鄉廣興村中正路188號','08:30~18:00','2009-01-01');
INSERT INTO THEMEPARK VALUES('S03','頑皮世界','06-7810000','台南市學甲區三慶里6鄰頂洲75-25號','09:00~17:00','1994-01-01');
INSERT INTO THEMEPARK VALUES('S04','小墾丁渡假村','08-8802880','屏東縣滿州鄉滿州村中山路205號','00:00-24:00',NULL);
INSERT INTO THEMEPARK VALUES('S05','尖山埤江南渡假村','06-6233888','台南市柳營區旭山里60號','08:00-17:00','2003-01-01');
INSERT INTO THEMEPARK VALUES('S06','義大世界','0800-588-887','高雄市大樹區學城路一段12號','09:00~17:00','2010-12-18');

 /*北部*/
INSERT INTO THEMEPARK VALUES('N01','兒童新樂園','02-2833-3823' ,'台北市士林區承德路五段55號','09:00-20:00','2014-12-16');
INSERT INTO THEMEPARK VALUES('N02','野柳海洋世界','02-2492-1111' ,'新北市萬里區野柳里港東路167-3號','09:00-17:30','1980-01-01');
INSERT INTO THEMEPARK VALUES('N03','雲仙樂園','02-2661-6510','新北市烏來區烏來里瀑布路1-1號','08:00-17:00', NULL);
INSERT INTO THEMEPARK VALUES('N04','小人國主題樂園','03-471-7211','桃園市龍潭區高原路891號','09:30-17:00','1984-07-07');
INSERT INTO THEMEPARK VALUES('N05','萬瑞森林樂園','03-593-4096','新竹縣橫山鄉23鄰23號','08:00-23:00','1987-02-17');
INSERT INTO THEMEPARK VALUES('N06','小叮噹科學主題樂園','03-559-2132','新竹縣新豐鄉康和路199號','09:00-17:00','1990-01-01');
INSERT INTO THEMEPARK VALUES('N07','六福村主題遊樂園','03-547-5665','新竹縣關西鎮60號','09:00-17:00','1979-08-10');

/*東部*/
INSERT INTO THEMEPARK VALUES('E01','綠舞莊園日式主題遊樂區' ,'03-960-3808','宜蘭縣五結鄉五濱路二段459號','09:00-18:00',NULL);
INSERT INTO THEMEPARK VALUES('E02','怡園渡假村' ,'03-865-1166','花蓮縣壽豐鄉豐坪路三段6巷21號','00:00-24:00',NULL);
INSERT INTO THEMEPARK VALUES('E03','遠雄海洋公園' ,'03-812-3199','花蓮縣壽豐鄉189號','09:00-17:00','2002-12-14');
INSERT INTO THEMEPARK VALUES('E04','台東原生應用植物園' ,'08-957-0011','台東縣卑南鄉8號','08:30-20:00',NULL);

/*設施類型*/
INSERT INTO RIDECATEGORY VALUES('G01','旋轉木馬');
INSERT INTO RIDECATEGORY VALUES('G02','漂漂河');
INSERT INTO RIDECATEGORY VALUES('G03','摩天輪');
INSERT INTO RIDECATEGORY VALUES('G04','碰碰車');
INSERT INTO RIDECATEGORY VALUES('G05','急流泛舟');
INSERT INTO RIDECATEGORY VALUES('PG01','咖啡杯');
INSERT INTO RIDECATEGORY VALUES('PG02','旋轉鞦韆');
INSERT INTO RIDECATEGORY VALUES('PG03','海盜船');
INSERT INTO RIDECATEGORY VALUES('R01','鬼屋');
INSERT INTO RIDECATEGORY VALUES('R02','雲宵飛車');
INSERT INTO RIDECATEGORY VALUES('R03','自由落體');
INSERT INTO RIDECATEGORY VALUES('R04','高速滑水道');

/*樂園設施*/
/*麗寶樂園*/
INSERT INTO RIDE VALUES('C05','G01','旋轉木馬');
INSERT INTO RIDE VALUES('C05','G02','漂漂河');
INSERT INTO RIDE VALUES('C05','G03','摩天輪');
INSERT INTO RIDE VALUES('C05','G04','碰碰車');
INSERT INTO RIDE VALUES('C05','G05','叢林泛舟');
INSERT INTO RIDE VALUES('C05','PG01','魔法風琴師');
INSERT INTO RIDE VALUES('C05','PG02','皇冠鞦韆');
INSERT INTO RIDE VALUES('C05','PG03','探險虎克');
INSERT INTO RIDE VALUES('C05','R02','採礦飛車');
INSERT INTO RIDE VALUES('C05','R03','銀河旋風');
INSERT INTO RIDE VALUES('C05','R04','火山冒險');
/*九族文化村*/
INSERT INTO RIDE VALUES('C06','G01','音樂馬車');
INSERT INTO RIDE VALUES('C06','G03','摩天輪');
INSERT INTO RIDE VALUES('C06','G05','大漩渦');
INSERT INTO RIDE VALUES('C06','PG01','轉轉車');
INSERT INTO RIDE VALUES('C06','PG02','熱氣球');
INSERT INTO RIDE VALUES('C06','PG03','VR風暴幽靈船');
INSERT INTO RIDE VALUES('C06','R02','馬雅探險');
INSERT INTO RIDE VALUES('C06','R03','UFO自由落體');
INSERT INTO RIDE VALUES('C06','R04','金礦山探險');
/*劍湖山*/
INSERT INTO RIDE VALUES('C09','G01','皇家馬車');
INSERT INTO RIDE VALUES('C09','G02','小威漂漂河');
INSERT INTO RIDE VALUES('C09','G03','幸福摩天輪');
INSERT INTO RIDE VALUES('C09','PG02','天女散花');
INSERT INTO RIDE VALUES('C09','PG03','海神號');
INSERT INTO RIDE VALUES('C09','R02','衝瘋飛車');
INSERT INTO RIDE VALUES('C09','R03','擎天飛梭');
/*義大世界*/
INSERT INTO RIDE VALUES('S06','G01','城堡旋轉馬車');
INSERT INTO RIDE VALUES('S06','G03','摩天輪');
INSERT INTO RIDE VALUES('S06','G04','酷炫尬車');
INSERT INTO RIDE VALUES('S06','PG01','幸福轉杯');
INSERT INTO RIDE VALUES('S06','PG02','旋轉流星');
INSERT INTO RIDE VALUES('S06','PG03','海盜奇航');
INSERT INTO RIDE VALUES('S06','R01','AR鬼船 幽冥視界');
INSERT INTO RIDE VALUES('S06','R02','旋轉飛車');
INSERT INTO RIDE VALUES('S06','R03','彈跳星');
INSERT INTO RIDE VALUES('S06','R04','飛越愛情海');
/*兒童新樂園*/
INSERT INTO RIDE VALUES('N01','G01','海洋總動員');
INSERT INTO RIDE VALUES('N01','G03','波力摩天輪');
INSERT INTO RIDE VALUES('N01','G04','幸福碰碰車');
INSERT INTO RIDE VALUES('N01','PG01','轉轉咖啡杯');
INSERT INTO RIDE VALUES('N01','PG02','宇宙迴旋');
INSERT INTO RIDE VALUES('N01','PG03','尋寶船');
INSERT INTO RIDE VALUES('N01','R02','魔法星際飛車');
INSERT INTO RIDE VALUES('N01','R03','叢林吼吼樹屋');
/*小人國*/
INSERT INTO RIDE VALUES('N04','G01','音樂馬車');
INSERT INTO RIDE VALUES('N04','G03','小人國擎天輪');
INSERT INTO RIDE VALUES('N04','G04','碰碰車');
INSERT INTO RIDE VALUES('N04','G05','瘋狂急流');
INSERT INTO RIDE VALUES('N04','R02','採礦列車');
INSERT INTO RIDE VALUES('N04','R03','跳星星');
INSERT INTO RIDE VALUES('N04','R04','轟浪');
/*六福村*/
INSERT INTO RIDE VALUES('N07','G01','阿里巴巴與四十大盜');
INSERT INTO RIDE VALUES('N07','G02','漂浮河流');
INSERT INTO RIDE VALUES('N07','G03','摩天篷車');
INSERT INTO RIDE VALUES('N07','G05','急流泛舟');
INSERT INTO RIDE VALUES('N07','PG01','醉酒桶');
INSERT INTO RIDE VALUES('N07','PG03','大海盜');
INSERT INTO RIDE VALUES('N07','R02','沙漠風暴');
INSERT INTO RIDE VALUES('N07','R03','大怒神');
INSERT INTO RIDE VALUES('N07','R04','火山歷險');

/*多元服務*/
INSERT INTO THESERVICE VALUES('101','餐飲');
INSERT INTO THESERVICE VALUES('102','住宿');
INSERT INTO THESERVICE VALUES('103','水樂園');
INSERT INTO THESERVICE VALUES('104','水族館');
INSERT INTO THESERVICE VALUES('105','露營');
INSERT INTO THESERVICE VALUES('106','泡湯');

/*各樂園提供的服務*/
INSERT INTO SERCONTENT VALUES('N01','101');
INSERT INTO SERCONTENT VALUES('N02','101');
INSERT INTO SERCONTENT VALUES('N02','104');
INSERT INTO SERCONTENT VALUES('N03','101');
INSERT INTO SERCONTENT VALUES('N03','102');
INSERT INTO SERCONTENT VALUES('N04','101');
INSERT INTO SERCONTENT VALUES('N04','103');
INSERT INTO SERCONTENT VALUES('N05','101');
INSERT INTO SERCONTENT VALUES('N05','102');
INSERT INTO SERCONTENT VALUES('N05','105');
INSERT INTO SERCONTENT VALUES('N06','101');
INSERT INTO SERCONTENT VALUES('N06','102');
INSERT INTO SERCONTENT VALUES('N06','103');
INSERT INTO SERCONTENT VALUES('N06','105');
INSERT INTO SERCONTENT VALUES('N07','101');
INSERT INTO SERCONTENT VALUES('N07','102');
INSERT INTO SERCONTENT VALUES('N07','103');
INSERT INTO SERCONTENT VALUES('C01','101');
INSERT INTO SERCONTENT VALUES('C01','102');
INSERT INTO SERCONTENT VALUES('C01','105');
INSERT INTO SERCONTENT VALUES('C01','106');
INSERT INTO SERCONTENT VALUES('C02','101');
INSERT INTO SERCONTENT VALUES('C02','102');
INSERT INTO SERCONTENT VALUES('C02','105');
INSERT INTO SERCONTENT VALUES('C02','106');
INSERT INTO SERCONTENT VALUES('C03','101');
INSERT INTO SERCONTENT VALUES('C03','102');
INSERT INTO SERCONTENT VALUES('C03','105');
INSERT INTO SERCONTENT VALUES('C04','101');
INSERT INTO SERCONTENT VALUES('C04','102');
INSERT INTO SERCONTENT VALUES('C04','105');
INSERT INTO SERCONTENT VALUES('C05','101');
INSERT INTO SERCONTENT VALUES('C05','102');
INSERT INTO SERCONTENT VALUES('C05','103');
INSERT INTO SERCONTENT VALUES('C06','101');
INSERT INTO SERCONTENT VALUES('C06','103');
INSERT INTO SERCONTENT VALUES('C07','101');
INSERT INTO SERCONTENT VALUES('C07','102');
INSERT INTO SERCONTENT VALUES('C07','106');
INSERT INTO SERCONTENT VALUES('C08','101');
INSERT INTO SERCONTENT VALUES('C08','102');
INSERT INTO SERCONTENT VALUES('C09','101');
INSERT INTO SERCONTENT VALUES('C09','102');
INSERT INTO SERCONTENT VALUES('C09','103');
INSERT INTO SERCONTENT VALUES('S01','101');
INSERT INTO SERCONTENT VALUES('S01','103');
INSERT INTO SERCONTENT VALUES('S01','105');
INSERT INTO SERCONTENT VALUES('S02','101');
INSERT INTO SERCONTENT VALUES('S02','102');
INSERT INTO SERCONTENT VALUES('S02','103');
INSERT INTO SERCONTENT VALUES('S03','101');
INSERT INTO SERCONTENT VALUES('S04','101');
INSERT INTO SERCONTENT VALUES('S04','102');
INSERT INTO SERCONTENT VALUES('S05','101');
INSERT INTO SERCONTENT VALUES('S05','102');
INSERT INTO SERCONTENT VALUES('S05','105');
INSERT INTO SERCONTENT VALUES('S06','101');
INSERT INTO SERCONTENT VALUES('S06','102');
INSERT INTO SERCONTENT VALUES('E01','101');
INSERT INTO SERCONTENT VALUES('E01','102');
INSERT INTO SERCONTENT VALUES('E01','106');
INSERT INTO SERCONTENT VALUES('E02','101');
INSERT INTO SERCONTENT VALUES('E02','102');
INSERT INTO SERCONTENT VALUES('E03','101');
INSERT INTO SERCONTENT VALUES('E03','102');
INSERT INTO SERCONTENT VALUES('E03','104');
INSERT INTO SERCONTENT VALUES('E04','101');

/*價格*/
/*票價類型*/
INSERT INTO PRICECATEGORY VALUES('P01','成人票'); /*18歲以上*/
INSERT INTO PRICECATEGORY VALUES('P02','學生票'); /*12歲以上，滿18歲以上之學生需出示學生證件使用*/
INSERT INTO PRICECATEGORY VALUES('P03','學童票'); /*滿6歲以上至未滿12歲(或身高120cm以上)*/
INSERT INTO PRICECATEGORY VALUES('P04','幼童票'); /*限年滿3歲(100公分) 至未滿6歲(120公分)幼童*/
INSERT INTO PRICECATEGORY VALUES('P05','幼幼票'); /*限3歲以下(須有家長陪同)*/
INSERT INTO PRICECATEGORY VALUES('P06','博愛票'); /*60~65歲以上長者(需出示相關證件)*/
INSERT INTO PRICECATEGORY VALUES('P07','愛心票'); /*身障者(需出示相關證件)，陪同一人比照*/
INSERT INTO PRICECATEGORY VALUES('P08','孕婦票'); /*孕婦(需出示相關證件)*/
INSERT INTO PRICECATEGORY VALUES('P09','軍警票'); /*現役軍警*/
INSERT INTO PRICECATEGORY VALUES('P10','午後票'); /*13:00入園*/
INSERT INTO PRICECATEGORY VALUES('P11','在地鄉親票'); /*(需出示相關證件)*/

/*北部*/
/*兒童新樂園*/
INSERT INTO PRICE VALUES('N01','P01','30'); 
INSERT INTO PRICE VALUES('N01','P02','15');
INSERT INTO PRICE VALUES('N01','P03','15');
INSERT INTO PRICE VALUES('N01','P04','0');
INSERT INTO PRICE VALUES('N01','P05','0');
INSERT INTO PRICE VALUES('N01','P06','0');
INSERT INTO PRICE VALUES('N01','P07','0');
/*野柳海洋世界*/
INSERT INTO PRICE VALUES('N02','P01','450'); 
INSERT INTO PRICE VALUES('N02','P02','380');
INSERT INTO PRICE VALUES('N02','P03','380');
INSERT INTO PRICE VALUES('N02','P04','0');
INSERT INTO PRICE VALUES('N02','P05','0');
INSERT INTO PRICE VALUES('N02','P06','225');
INSERT INTO PRICE VALUES('N02','P07','225');
/*雲仙樂園*/
INSERT INTO PRICE VALUES('N03','P01','220'); 
INSERT INTO PRICE VALUES('N03','P02','150');
INSERT INTO PRICE VALUES('N03','P03','150');
INSERT INTO PRICE VALUES('N03','P04','150');
INSERT INTO PRICE VALUES('N03','P05','0');
INSERT INTO PRICE VALUES('N03','P06','110');
INSERT INTO PRICE VALUES('N03','P07','110');
/*小人國主題樂園*/
INSERT INTO PRICE VALUES('N04','P01','850'); 
INSERT INTO PRICE VALUES('N04','P02','750');
INSERT INTO PRICE VALUES('N04','P03','650');
INSERT INTO PRICE VALUES('N04','P04','550');
INSERT INTO PRICE VALUES('N04','P05','0');
INSERT INTO PRICE VALUES('N04','P06','420');
INSERT INTO PRICE VALUES('N04','P07','420');
INSERT INTO PRICE VALUES('N04','P08','420');
INSERT INTO PRICE VALUES('N04','P09','420');
/*萬瑞森林樂園*/
INSERT INTO PRICE VALUES('N05','P01','200'); 
INSERT INTO PRICE VALUES('N05','P02','180');
INSERT INTO PRICE VALUES('N05','P03','150');
INSERT INTO PRICE VALUES('N05','P04','100');
INSERT INTO PRICE VALUES('N05','P05','0');
INSERT INTO PRICE VALUES('N05','P06','100');
INSERT INTO PRICE VALUES('N05','P07','100');
INSERT INTO PRICE VALUES('N05','P08','100');
/*小叮噹科學主題樂園*/
INSERT INTO PRICE VALUES('N06','P01','500'); 
INSERT INTO PRICE VALUES('N06','P02','500');
INSERT INTO PRICE VALUES('N06','P03','400');
INSERT INTO PRICE VALUES('N06','P04','350');
INSERT INTO PRICE VALUES('N06','P05','0');
INSERT INTO PRICE VALUES('N06','P06','280');
INSERT INTO PRICE VALUES('N06','P07','280');
/*六福村主題遊樂園*/
INSERT INTO PRICE VALUES('N07','P01','999'); 
INSERT INTO PRICE VALUES('N07','P02','899');
INSERT INTO PRICE VALUES('N07','P03','699');
INSERT INTO PRICE VALUES('N07','P04','499');
INSERT INTO PRICE VALUES('N07','P05','0');
INSERT INTO PRICE VALUES('N07','P06','399');
INSERT INTO PRICE VALUES('N07','P07','399');
INSERT INTO PRICE VALUES('N07','P08','399');
INSERT INTO PRICE VALUES('N07','P10','580');

/*中部*/
/*東勢林場遊樂區*/
INSERT INTO PRICE VALUES('C01','P01','250'); 
INSERT INTO PRICE VALUES('C01','P02','200');
INSERT INTO PRICE VALUES('C01','P03','200');
INSERT INTO PRICE VALUES('C01','P04','125');
INSERT INTO PRICE VALUES('C01','P05','0');
INSERT INTO PRICE VALUES('C01','P06','125');
INSERT INTO PRICE VALUES('C01','P07','125');
INSERT INTO PRICE VALUES('C01','P11','60');
/*泰雅渡假村*/
INSERT INTO PRICE VALUES('C02','P01','450'); 
INSERT INTO PRICE VALUES('C02','P02','400');
INSERT INTO PRICE VALUES('C02','P03','400');
INSERT INTO PRICE VALUES('C02','P04','300');
INSERT INTO PRICE VALUES('C02','P05','0');
INSERT INTO PRICE VALUES('C02','P07','300');
/*香格里拉樂園*/
INSERT INTO PRICE VALUES('C03','P01','500'); 
INSERT INTO PRICE VALUES('C03','P02','400');
INSERT INTO PRICE VALUES('C03','P03','280');
INSERT INTO PRICE VALUES('C03','P04','280');
INSERT INTO PRICE VALUES('C03','P05','0');
INSERT INTO PRICE VALUES('C03','P06','400');
INSERT INTO PRICE VALUES('C03','P07','249');
INSERT INTO PRICE VALUES('C03','P11','280');
/*火炎山遊樂區*/
INSERT INTO PRICE VALUES('C04','P01','350'); 
INSERT INTO PRICE VALUES('C04','P07','150');
/*麗寶樂園*/
INSERT INTO PRICE VALUES('C05','P01','900'); 
INSERT INTO PRICE VALUES('C05','P02','800');
INSERT INTO PRICE VALUES('C05','P03','700');
INSERT INTO PRICE VALUES('C05','P04','450');
INSERT INTO PRICE VALUES('C05','P05','0');
INSERT INTO PRICE VALUES('C05','P06','450');
INSERT INTO PRICE VALUES('C05','P07','450');
INSERT INTO PRICE VALUES('C05','P08','450');
INSERT INTO PRICE VALUES('C05','P10','700');
/*九族文化村*/
INSERT INTO PRICE VALUES('C06','P01','850'); 
INSERT INTO PRICE VALUES('C06','P02','750');
INSERT INTO PRICE VALUES('C06','P03','650');
INSERT INTO PRICE VALUES('C06','P04','420');
INSERT INTO PRICE VALUES('C06','P05','0');
INSERT INTO PRICE VALUES('C06','P06','420');
INSERT INTO PRICE VALUES('C06','P07','420');
INSERT INTO PRICE VALUES('C06','P08','420');
/*西湖渡假村*/
INSERT INTO PRICE VALUES('C07','P01','399'); 
INSERT INTO PRICE VALUES('C07','P02','350');
INSERT INTO PRICE VALUES('C07','P03','300');
INSERT INTO PRICE VALUES('C07','P04','250');
INSERT INTO PRICE VALUES('C07','P05','0');
INSERT INTO PRICE VALUES('C07','P06','200');
INSERT INTO PRICE VALUES('C07','P07','200');
INSERT INTO PRICE VALUES('C07','P09','350');
INSERT INTO PRICE VALUES('C07','P11','250');
/*杉林溪森林生態渡假園區*/
INSERT INTO PRICE VALUES('C08','P01','250'); 
INSERT INTO PRICE VALUES('C08','P02','200');
INSERT INTO PRICE VALUES('C08','P03','200');
INSERT INTO PRICE VALUES('C08','P04','0');
INSERT INTO PRICE VALUES('C08','P05','0');
INSERT INTO PRICE VALUES('C08','P06','150');
INSERT INTO PRICE VALUES('C08','P07','150');
/*劍湖山世界*/
INSERT INTO PRICE VALUES('C09','P01','899'); 
INSERT INTO PRICE VALUES('C09','P02','699');
INSERT INTO PRICE VALUES('C09','P03','599');
INSERT INTO PRICE VALUES('C09','P04','499');
INSERT INTO PRICE VALUES('C09','P05','0');
INSERT INTO PRICE VALUES('C09','P06','399');
INSERT INTO PRICE VALUES('C09','P07','350');
INSERT INTO PRICE VALUES('C09','P08','399');
INSERT INTO PRICE VALUES('C09','P09','699');
INSERT INTO PRICE VALUES('C09','P10','450');

/*南部*/
/*8大森林樂園*/
INSERT INTO PRICE VALUES('S01','P01','350');
INSERT INTO PRICE VALUES('S01','P04','0');
INSERT INTO PRICE VALUES('S01','P05','0');
/*大路觀主題樂園*/
INSERT INTO PRICE VALUES('S02','P01','400');
INSERT INTO PRICE VALUES('S02','P02','350');
INSERT INTO PRICE VALUES('S02','P03','280');
INSERT INTO PRICE VALUES('S02','P04','200');
INSERT INTO PRICE VALUES('S02','P05','0');
/*頑皮世界*/
INSERT INTO PRICE VALUES('S03','P01','480');
INSERT INTO PRICE VALUES('S03','P03','380');
INSERT INTO PRICE VALUES('S03','P04','280');
INSERT INTO PRICE VALUES('S03','P05','0');
INSERT INTO PRICE VALUES('S03','P06','240');
INSERT INTO PRICE VALUES('S03','P07','240');
/*義大世界*/
INSERT INTO PRICE VALUES('S05','P01','899');
INSERT INTO PRICE VALUES('S05','P02','799');
INSERT INTO PRICE VALUES('S05','P03','580');
INSERT INTO PRICE VALUES('S05','P04','450');
INSERT INTO PRICE VALUES('S05','P05','0');
INSERT INTO PRICE VALUES('S05','P06','450');
INSERT INTO PRICE VALUES('S05','P07','450');
INSERT INTO PRICE VALUES('S05','P08','450');
INSERT INTO PRICE VALUES('S05','P10','650');

/*東部*/
/*綠舞莊園日式主題遊樂區*/
INSERT INTO PRICE VALUES('E01','P01','300'); 
INSERT INTO PRICE VALUES('E01','P02','270');
INSERT INTO PRICE VALUES('E01','P03','250');
INSERT INTO PRICE VALUES('E01','P04','0');
INSERT INTO PRICE VALUES('E01','P05','0');
INSERT INTO PRICE VALUES('E01','P06','250');
INSERT INTO PRICE VALUES('E01','P07','150');
INSERT INTO PRICE VALUES('E01','P11','250');
/*怡園渡假村*/
INSERT INTO PRICE VALUES('E02','P01','800'); 
/*遠雄海洋公園*/
INSERT INTO PRICE VALUES('E03','P01','890');
INSERT INTO PRICE VALUES('E03','P02','790');
INSERT INTO PRICE VALUES('E03','P03','590');
INSERT INTO PRICE VALUES('E03','P04','390');
INSERT INTO PRICE VALUES('E03','P06','590');
INSERT INTO PRICE VALUES('E03','P07','390');
/*台東原生應用植物園*/
INSERT INTO PRICE VALUES('E04','P01','200');
INSERT INTO PRICE VALUES('E04','P03','100');
INSERT INTO PRICE VALUES('E04','P06','0');
INSERT INTO PRICE VALUES('E04','P07','0');
INSERT INTO PRICE VALUES('E04','P11','100');

/*活動*/
/*東勢林場遊樂區*/
INSERT INTO ACTIVITY VALUES('C01','001','東勢林場 1500 生態之旅','2021-05-06');
INSERT INTO ACTIVITY VALUES('C01','002','跟螢火蟲一起露營！','2021-04-01');
INSERT INTO ACTIVITY VALUES('C01','003','感受大自然的氣息！','2021-04-01');
INSERT INTO ACTIVITY VALUES('C01','004','螢火蟲攝影教學','2021-04-03');
INSERT INTO ACTIVITY VALUES('C01','005','大專新鮮人迎新專案','2021-06-09');

/*泰雅渡假村*/
INSERT INTO ACTIVITY VALUES('C02','001','玩樂園，吃健康','2021-04-24');
INSERT INTO ACTIVITY VALUES('C02','002','泰雅渡假村駐村藝術家徵選計畫','2021-04-02');
INSERT INTO ACTIVITY VALUES('C02','003','泰雅發呆大賽','2021-02-12');
INSERT INTO ACTIVITY VALUES('C02','004','深山夜間汽車電影院','2021-02-12');

/*香格里拉樂園*/
INSERT INTO ACTIVITY VALUES('C03','001','客家桌宴','2020-12-30');
INSERT INTO ACTIVITY VALUES('C03','002','暢遊蘆竹湳古厝，入住香格里拉樂園','2021-02-15');
INSERT INTO ACTIVITY VALUES('C03','003','香格里拉-永無島 行者的旅程','2019-06-29');
INSERT INTO ACTIVITY VALUES('C03','004','新客家食茶趣','2019-01-17');
INSERT INTO ACTIVITY VALUES('C03','005','泡泡嚕啦啦 兒童泡沫派對','2018-08-26');

/*火炎山遊樂區*/
INSERT INTO ACTIVITY VALUES('C04','001','露營團康活動',NULL);
INSERT INTO ACTIVITY VALUES('C04','002','國際蔬食烹飪比賽',NULL);
INSERT INTO ACTIVITY VALUES('C04','003','蔬食抗暖化種子培訓營',NULL);
INSERT INTO ACTIVITY VALUES('C04','004','國際蔬食環保環境講座',NULL);
INSERT INTO ACTIVITY VALUES('C04','005','有機示範園區參訪',NULL);

/*麗寶樂園*/
INSERT INTO ACTIVITY VALUES('C05','001','麗寶線上旅展','2021-05-01');
INSERT INTO ACTIVITY VALUES('C05','002','寵愛媽媽 天空之夢摩天輪雙人350元','2021-04-30');
INSERT INTO ACTIVITY VALUES('C05','003','FORD FOUCUS 挑戰賽','2021-05-01');
INSERT INTO ACTIVITY VALUES('C05','004','熱氣球夢想節','2021/04/02');
INSERT INTO ACTIVITY VALUES('C05','005','超視覺魔幻秀','2021-02-25');

/*九族文化村*/
INSERT INTO ACTIVITY VALUES('C06','001','樂器體驗',NULL);
INSERT INTO ACTIVITY VALUES('C06','002','葉拓DIY體驗',NULL);
INSERT INTO ACTIVITY VALUES('C06','003','工藝師皮雕DIY體驗',NULL);
INSERT INTO ACTIVITY VALUES('C06','004','搖擺臀鈴體驗',NULL);
INSERT INTO ACTIVITY VALUES('C06','005','桌上型織布機體驗',NULL);

/*西湖渡假村*/
INSERT INTO ACTIVITY VALUES('C07','001','寵愛媽咪 幸福出遊','2021-05-09');
INSERT INTO ACTIVITY VALUES('C07','002','夢幻桐花祭攝影比賽','2021-04-10');
INSERT INTO ACTIVITY VALUES('C07','003','桐花之星','2021-03-20');
INSERT INTO ACTIVITY VALUES('C07','004','童話糖果嘉年華','2021-02-18');

/*杉林溪森林生態渡假園區*/
INSERT INTO ACTIVITY VALUES('C08','001','搭乘公共運輸悠遊杉林溪門票優惠',NULL);

/*劍湖山世界*/
INSERT INTO ACTIVITY VALUES('C09','001','花現劍湖山拍照樂','2021-03-02');
INSERT INTO ACTIVITY VALUES('C09','002','邀您一起慶35','2021-05-08');
INSERT INTO ACTIVITY VALUES('C09','003','小小鐵人闖關賽','2021-04-10');
INSERT INTO ACTIVITY VALUES('C09','004','阿瑪麗麗斯花展','2021-04-01');

/*綠舞莊園日式主題遊樂區*/
INSERT INTO ACTIVITY VALUES('E01','001','和菓子體驗',NULL);
INSERT INTO ACTIVITY VALUES('E01','002','茶迷區 「心意，全都在茶碗裡了」',NULL);
INSERT INTO ACTIVITY VALUES('E01','003','Cosplay熱血動漫祭',NULL);
INSERT INTO ACTIVITY VALUES('E01','004','Xピクニック 夏日野餐饗宴','2017-06-02');
INSERT INTO ACTIVITY VALUES('E01','005','端午節特別企劃活動','2017-05-27');

/*怡園渡假村*/
INSERT INTO ACTIVITY VALUES('E02','001','打造愛的家我不打小孩','2021-04-26');
INSERT INTO ACTIVITY VALUES('E02','002','2021與自然一起check-in','2021-04-01');
INSERT INTO ACTIVITY VALUES('E02','003','牛年忘返在怡園','2021-02-12');
INSERT INTO ACTIVITY VALUES('E02','004','用餐＋游泳只要0元','2020-07-01');
INSERT INTO ACTIVITY VALUES('E02','005','豬事大吉迎新春','2019-02-05');

/*遠雄海洋公園*/
INSERT INTO ACTIVITY VALUES('E03','001','海獅巡警隊','2021-02-06');
INSERT INTO ACTIVITY VALUES('E03','002','奇妙海洋慶典',NULL);
INSERT INTO ACTIVITY VALUES('E03','003','海豚傳說-跳浪奇緣',NULL);
INSERT INTO ACTIVITY VALUES('E03','004','海洋原住民文化月','2021-05-05');
INSERT INTO ACTIVITY VALUES('E03','005','學生瘋玩套票',NULL);

/*台東原生應用植物園*/
INSERT INTO ACTIVITY VALUES('E04','001','玩樂園，吃健康','2021-04-24');
INSERT INTO ACTIVITY VALUES('E04','002','台東縣枇杷節','2021-03-20');
INSERT INTO ACTIVITY VALUES('E04','003','聖誕金幣市集','2020-12-05');

/*8大森林樂園*/
INSERT INTO ACTIVITY VALUES('S01','001','歡迎各大學校來八大森林遊樂區報名舉辦活動哦!','2021-04-25');
INSERT INTO ACTIVITY VALUES('S01','002','8大森林樂園',NULL);

/*大路觀主題樂園*/
INSERT INTO ACTIVITY VALUES('S02','001','綠色的旅行  青山綠水間的划船時光','2020-07-01');
INSERT INTO ACTIVITY VALUES('S02','002','溫馨5月陪伴媽咪用餐','2021-04-23');
INSERT INTO ACTIVITY VALUES('S02','003','大武山夏慢旅行','2021-05-05');
INSERT INTO ACTIVITY VALUES('S02','004','旺夏好之味','2021-05-06');
INSERT INTO ACTIVITY VALUES('S02','005','歡笑水花島','2021-05-07');

/*頑皮世界*/
INSERT INTO ACTIVITY VALUES('S03','001','產銷履歷產地樂悠遊-玩樂園，吃健康','2021-04-24');
INSERT INTO ACTIVITY VALUES('S03','002','玩樂總動員cheers!泡泡樂','2021-04-30');
INSERT INTO ACTIVITY VALUES('S03','003','遊頑自在送紀念禮 ','2021-05-07');
INSERT INTO ACTIVITY VALUES('S03','004','「再頑皮，媽媽也愛你」','2021-05-09');
INSERT INTO ACTIVITY VALUES('S03','005','「i上頑皮」線上逛動物園DAY20','2021-06-09');

/*小墾丁渡假村*/
INSERT INTO ACTIVITY VALUES('S04','001','五月．迎來溫馨輕暖的小日子','2021-05-09');
INSERT INTO ACTIVITY VALUES('S04','002','童心協力，防疫藝起來~','2021-05-28');
INSERT INTO ACTIVITY VALUES('S04','003','璀璨銀河假期','2021-06-09');
INSERT INTO ACTIVITY VALUES('S04','004','農村田野樂','2021-06-09');
INSERT INTO ACTIVITY VALUES('S04','005','悠遊單車趣','2021-06-09');

/*義大世界*/
INSERT INTO ACTIVITY VALUES('S05','001','全年護照 365天玩透透','2021-01-01');
INSERT INTO ACTIVITY VALUES('S05','002','「K歌摩天輪」讓你在高空大展歌喉','2021-03-05');
INSERT INTO ACTIVITY VALUES('S05','003','壽星限定活動','2021-03-10');
INSERT INTO ACTIVITY VALUES('S05','004','穆斯林祈禱室開放預約囉!','2021-03-28');
INSERT INTO ACTIVITY VALUES('S05','005','媽媽免費玩樂園','2021-05-08');

/*兒童新樂園*/
INSERT INTO ACTIVITY VALUES('N01','001','專屬您的兒童新樂園!!非營運時段包場不受干擾~','2018-11-23');
INSERT INTO ACTIVITY VALUES('N01','002','一日樂Fun券開賣啦!!','2021-01-04');
INSERT INTO ACTIVITY VALUES('N01','003','角落小夥伴歡樂城來囉!','2021-06-18');
INSERT INTO ACTIVITY VALUES('N01','004','與momo公司合辦之母親節活動','2021-07-17');	

/*野柳海洋世界*/
INSERT INTO ACTIVITY VALUES('N02','001','海豚親親券、海獅親親券幸福熱賣中~','2014-01-01');
INSERT INTO ACTIVITY VALUES('N02','002','旅行渡假真簡單，優惠票券這裡買!','2015-10-04');
INSERT INTO ACTIVITY VALUES('N02','003','海洋生物展示館~大洋池餵食秀','2019-11-1');
INSERT INTO ACTIVITY VALUES('N02','004','5月母親月假日限定抽獎活動','2021-05-04');
INSERT INTO ACTIVITY VALUES('N02','005','購買門票享有8折優惠!','2021-05-07');

/*雲仙樂園*/
INSERT INTO ACTIVITY VALUES('N03','001','#雲仙環教小教室 雲仙樂園園區內復育烏來杜鵑看得見!','2021-03-08');
INSERT INTO ACTIVITY VALUES('N03','002','季在地食蔬-桂竹筍美食套餐新上市啦','2021-04-07');
INSERT INTO ACTIVITY VALUES('N03','003',' 5月雲仙假日限定街藝 ','2021-05-01');
INSERT INTO ACTIVITY VALUES('N03','004','雲仙泰雅共榮圈系列 - 雲仙泰雅樂舞表演預告','2021-05-07');
INSERT INTO ACTIVITY VALUES('N03','005','2021雲仙賞螢祕境，閃光登場!','2021-04-23');

/*小人國主題樂園*/
INSERT INTO ACTIVITY VALUES('N04','001',' Happy Birthday 歡樂王國 2021生日專屬優惠','2021-01-01');
INSERT INTO ACTIVITY VALUES('N04','002',' 「無限暢遊卡」卡友專屬優惠','2021-03-02');
INSERT INTO ACTIVITY VALUES('N04','003','旅遊達人「林龍」帶您環遊迷你世界GO!','2021-03-05');
INSERT INTO ACTIVITY VALUES('N04','004',' #環境教育夏令營活動 海洋守護者－小小水手探索航','2021-05-03');
INSERT INTO ACTIVITY VALUES('N04','005','母親節快樂!MOM 馨花朵朵開!送「阿里山小火車資料夾」','2021-05-06');

/*萬瑞森林樂園*/
INSERT INTO ACTIVITY VALUES('N05','001','當油桐花遇見螢火蟲(一泊二食)','2017-03-17');
INSERT INTO ACTIVITY VALUES('N05','002','活力森活半日遊-健行賞桐花','2017-03-17');
INSERT INTO ACTIVITY VALUES('N05','003','露營X解任務 94要露營','2019-09-10');
INSERT INTO ACTIVITY VALUES('N05','004','山林走走優惠活動','2020-03-18');
INSERT INTO ACTIVITY VALUES('N05','005','智遊玩 樂園 自由玩','2020-09-01');

/*小叮噹科學主題樂園*/
INSERT INTO ACTIVITY VALUES('N06','001','「叮噹30~感謝有你」新豐鄉民感恩回饋優惠專案','2021-01-06');
INSERT INTO ACTIVITY VALUES('N06','002','2021大學迎新專案','2021-03-27');
INSERT INTO ACTIVITY VALUES('N06','003','「兒童連假」 童趣童遊玩科學搶先看','2021-04-01');
INSERT INTO ACTIVITY VALUES('N06','004','「免費禮物大Fun送」自己的禮物~自己轉 ','2021-04-10');
INSERT INTO ACTIVITY VALUES('N06','005','「科學探險家~瘋雪傳說」2021暑假團體套裝行程','2021-04-12');

/*六福村主題遊樂園*/
INSERT INTO ACTIVITY VALUES('N07','001','台日聯姻「犀牛艾瑪出發去日本」','2021-03-02');
INSERT INTO ACTIVITY VALUES('N07','002','「動物變裝優惠」','2021-04-06');
INSERT INTO ACTIVITY VALUES('N07','003','「動物姓名優惠」','2021-04-06');
INSERT INTO ACTIVITY VALUES('N07','004','村民們！集合啦','2021-05-06');
INSERT INTO ACTIVITY VALUES('N07','005','六福村夢幻婚宴專案，與新人一同迎接幸福的到來','2020-12-07');

/*會員資料*/
INSERT INTO CUSTOMER VALUES('10001','N04','P01','2');  /*小人國主題樂園*/
INSERT INTO CUSTOMER VALUES('10001','N04','P03','1');
INSERT INTO CUSTOMER VALUES('10001','N04','P09','1');
INSERT INTO CUSTOMER VALUES('10002','C05','P01','3');  /*麗寶樂園*/
INSERT INTO CUSTOMER VALUES('10002','C05','P02','1');
INSERT INTO CUSTOMER VALUES('10002','C05','P05','2');
INSERT INTO CUSTOMER VALUES('10003','C01','P01','1');  /*東勢林場遊樂區*/
INSERT INTO CUSTOMER VALUES('10003','C01','P04','1');
INSERT INTO CUSTOMER VALUES('10003','C01','P07','1');
INSERT INTO CUSTOMER VALUES('10003','C01','P11','1');

/*查詢*/

/*1. 營業年份(計算至今)*/
SELECT THE_ID, THE_NAME, DATEDIFF(YEAR, THE_DATE,GETDATE()) AS 年齡
FROM THEMEPARK
WHERE THE_DATE IS NOT NULL
ORDER BY THE_ID;

/*2. 樂園各設施名稱*/
SELECT THE_NAME, RIDE_NAME
FROM THEMEPARK JOIN RIDE ON THEMEPARK.THE_ID = RIDE.THE_ID
ORDER BY THEMEPARK.THE_ID;

/*3. 查詢設施種類G01在各個樂園的名稱是什麼*/
SELECT THE_NAME,RIDE_NAME
FROM THEMEPARK JOIN RIDE ON THEMEPARK.THE_ID=RIDE.THE_ID 
JOIN RIDECATEGORY ON RIDE.RC_ID=RIDECATEGORY.RC_ID
WHERE RIDECATEGORY.RC_ID='G01';

/*4. 樂園服務內容*/
CREATE VIEW THE_SER AS
SELECT
 THE_NAME AS 樂園,
 THESERVICE.SER_ID AS 服務編號,
 SER_NAME AS 服務內容
FROM THEMEPARK,SERCONTENT,THESERVICE
WHERE THEMEPARK.THE_ID=SERCONTENT.THE_ID AND SERCONTENT.SER_ID = THESERVICE.SER_ID;

SELECT * FROM THE_SER WHERE 樂園 LIKE '東勢%';

/*5. 計算COSTOMER總票價*/
SELECT CUS_ID,SUM(CUS_COUNT*PR_VALUE) AS 總額
FROM PRICE JOIN PRICECATEGORY ON PRICE.PC_ID=PRICECATEGORY.PC_ID
	 JOIN CUSTOMER ON CUSTOMER.THE_ID = PRICE.THE_ID 
	 AND CUSTOMER.PC_ID = PRICECATEGORY.PC_ID
GROUP BY CUS_ID;

/*6. 各縣市樂園有幾個*/
SELECT COUNT(*) AS CITY_COUNT
FROM THEMEPARK
WHERE THE_ADDRESS LIKE '新竹%'

/*7. 票價範圍內的樂園有哪些，按照票價由大排到小*/
SELECT THE_NAME, PR_VALUE
FROM THEMEPARK JOIN PRICE ON THEMEPARK.THE_ID = PRICE.THE_ID
WHERE PR_VALUE < 300 AND PRICE.PC_ID='P01'
ORDER BY PR_VALUE DESC;

/*8. 列出某區域主題樂園票價低於全台主題樂園票價的樂園*/
CREATE VIEW THE_AVGPRICE1 AS
SELECT 
  THEMEPARK.THE_ID AS 樂園編號,
  THE_NAME AS 樂園, 
  (SELECT AVG(PR_VALUE) FROM PRICE WHERE THEMEPARK.THE_ID=PRICE.THE_ID) AS 平均價格
FROM THEMEPARK;

SELECT * 
FROM  THE_AVGPRICE1
WHERE 平均價格 < (SELECT AVG(PR_VALUE) FROM PRICE) AND 樂園編號 LIKE 'N%';

/*9. 查詢樂園在某年舉辦的活動*/
SELECT THE_NAME, ACT_NAME, ACT_DATE
FROM THEMEPARK INNER JOIN ACTIVITY ON THEMEPARK.THE_ID=ACTIVITY.THE_ID
WHERE ACT_DATE > '2021-01-01';

































/*8-1*/
SELECT THE_ID, THE_NAME, (SELECT AVG(PR_VALUE) FROM PRICE WHERE THEMEPARK.THE_ID=PRICE.THE_ID) AS 平均價格
FROM THEMEPARK
WHERE (SELECT AVG(PR_VALUE) FROM PRICE WHERE THEMEPARK.THE_ID=PRICE.THE_ID) < (SELECT AVG(PR_VALUE) FROM PRICE) AND THE_ID LIKE 'N%';